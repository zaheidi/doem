<view class="container">
  <view class="tab-bar">
    <view 
      wx:for="{{tabs}}" 
      wx:key="*this" 
      class="tab-item {{activeTab === index ? 'active' : ''}}"
      bindtap="onTabChange" 
      data-index="{{index}}"
    >
      {{item}}
      <view class="active-line" wx:if="{{activeTab === index}}"></view>
    </view>
  </view>

  <scroll-view scroll-y class="list-container">
    <view wx:for="{{jobList}}" wx:key="_id" class="job-card">
      <view class="card-header">
        <text class="job-title">{{item.title}}</text>
        <text class="salary">{{item.salary}}</text>
      </view>
      
      <view class="card-body">
        <view class="info-item">
          <text class="icon">ğŸ¢</text>
          <text>{{item.company}}</text>
        </view>
        <view class="info-item">
          <text class="icon">ğŸ“</text>
          <text>{{item.location}}</text>
        </view>

        <view class="reject-reason-box" wx:if="{{item.status === 'å·²é©³å›' && item.reviewerReason}}">
          <view class="reject-title">
            <t-icon name="error-circle-filled" size="32rpx" color="#e34d59" />
            <text>å®¡æ ¸æœªé€šè¿‡</text>
          </view>
          <view class="reject-content">{{item.reviewerReason}}</view>
          <view class="reject-tips">è¯·ç‚¹å‡»ä¸‹æ–¹â€œç¼–è¾‘èŒä½â€ä¿®æ”¹åé‡æ–°æäº¤</view>
        </view>
      </view> <view class="card-footer">
        <view class="status-group">
          <text class="status-tag {{item.status === 'å·²å‘å¸ƒ' ? 'tag-green' : (item.status === 'å¾…å®¡æ ¸' ? 'tag-orange' : 'tag-red')}}">
            {{item.status === 'å·²å‘å¸ƒ' ? 'å¼€æ”¾ä¸­' : (item.status === 'å·²é©³å›' ? 'æœªé€šè¿‡' : item.status)}}
          </text>
          <text class="time">{{item.formattedDate || 'åˆšåˆš'}}</text>
        </view>
        
        <view class="action-buttons">
          <button class="btn btn-outline" bindtap="goToEdit" data-id="{{item._id}}">ç¼–è¾‘èŒä½</button>
          <button class="btn btn-danger" wx:if="{{item.status === 'å·²å‘å¸ƒ'}}" bindtap="onStopJob" data-id="{{item._id}}">åœæ­¢æ‹›è˜</button>
        </view>
      </view>
    </view>

    <view wx:if="{{jobList.length === 0}}" class="empty-state">
      <image class="empty-img" src="/assets/no_data.png" mode="aspectFit"></image>
      <text class="empty-text">è¯¥çŠ¶æ€ä¸‹æš‚æ— èŒä½ï¼Œå¿«å»å‘å¸ƒå§</text>
      <button class="btn-primary" bindtap="goToPost">ç«‹å³å‘å¸ƒ</button>
    </view>
  </scroll-view>
</view>